(this["webpackJsonpdodge-game"]=this["webpackJsonpdodge-game"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(3),a=n.n(r),c=(n(9),i.a.createContext(),n(1));function l(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),i=n[0],r=n[1];function a(t){t.key===e&&r(!0)}var l=function(t){t.key===e&&r(!1)};return Object(o.useEffect)((function(){return window.addEventListener("keydown",a),window.addEventListener("keyup",l),function(){window.removeEventListener("keydown",a),window.removeEventListener("keyup",l)}}),[]),i}var f=function(e,t,n){"left"===e&&n({top:t.top,left:t.left-40}),"right"===e&&n({top:t.top,left:t.left+40}),"up"===e&&n({top:t.top-40,left:t.left}),"down"===e&&n({top:t.top+40,left:t.left})},u=["up","right","down","left"],s=function(){return u[Math.floor(Math.random()*Math.floor(3))]},d=function(e){var t=e.playerPosition,n=e.collisionHappened;return i.a.createElement("div",{style:{width:40,height:40,background:n?"#e8eb34":"grey",position:"absolute",top:t.top,left:t.left,transition:"all 0.1s ease",zIndex:3,borderRadius:2}})},p=function(e){var t=e.pos;return i.a.createElement("div",{style:{width:40,height:40,background:"#eb4034",position:"absolute",top:t&&t.top,left:t&&t.left,zIndex:1,transition:"all 0.1s linear",overflow:"hidden",display:t&&"outOfView"===t.direction?"none":"",borderRadius:2}})},h=function(){var e={top:200,left:200},t=Object(o.useState)(e),n=Object(c.a)(t,2),r=n[0],a=n[1],u=Object(o.useState)([]),h=Object(c.a)(u,2),b=h[0],w=h[1],v=Object(o.useState)(0),m=Object(c.a)(v,2),g=m[0],E=m[1],O=Object(o.useState)(10),j=Object(c.a)(O,2),y=j[0],k=j[1],S=Object(o.useState)(0),T=Object(c.a)(S,2),A=T[0],L=T[1],x=Object(o.useState)(!1),z=Object(c.a)(x,2),I=z[0],M=z[1],B=Object(o.useState)(0),H=Object(c.a)(B,2),R=H[0],V=H[1],J=l("ArrowLeft"),P=l("ArrowRight"),U=l("ArrowUp"),W=l("ArrowDown");return Object(o.useEffect)((function(){var t=setTimeout((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"up"===e?{top:440+t,left:r.left,direction:e}:"right"===e?{top:r.top,left:-40-t,direction:e}:"down"===e?{top:-40-t,left:r.left,direction:e}:"left"===e?{top:r.top,left:440+t,direction:e}:void 0},t=b&&b.map((function(e){return"outOfView"===e.direction?{}:{top:"down"===e.direction?e.top+y:"up"===e.direction?e.top-y:e.top,left:"left"===e.direction?e.left-y:"right"===e.direction?e.left+y:e.left,direction:e.top>560||e.top<-160||e.left<-160||e.left>560?"outOfView":e.direction}}));if(E(g+1),g<=100&&15!==y&&k(15),150===g&&k(20),200===g&&k(25),250===g&&k(30),350===g&&k(35),400===g&&k(40),g%15===0&&g>20)if(g>100&&g%30===0){var n=e(s()),o=e(s(),119);w(t.concat(n).concat(o))}else{var i=e(s());w(t.concat(i))}else w(t)}),80);1e4===g&&(alert("YOU BEAT THE GAME"),clearTimeout(t)),I&&(clearTimeout(t),setTimeout((function(){E(0),L(null),a(e),w([]),M(!1)}),1e3))}),[b]),Object(o.useEffect)((function(){!A&&L(0);var e=setTimeout((function(){L(A+1)}),100);I&&(clearTimeout(e),(0===R||A>R)&&V(A))}),[A]),Object(o.useEffect)((function(){!g&&E(0)}),[g]),Object(o.useEffect)((function(){J&&f("left",r,a),P&&f("right",r,a),U&&f("up",r,a),W&&f("down",r,a)}),[J,U,P,W]),Object(o.useEffect)((function(){var e,t;e=r,t=M,b.forEach((function(n){e.left<n.left+40&&e.top<n.top+40&&e.left+40>n.left&&e.top+40>n.top&&(console.log("collision!"),t(!0))}))}),[r,b]),i.a.createElement("div",null,i.a.createElement(d,{playerPosition:r,collisionHappened:I}),i.a.createElement("div",{style:{background:"lightgrey",height:400,width:400,paddingLeft:0,border:"black solid thin"}}),i.a.createElement("div",{style:{background:"white",zIndex:2,position:"absolute",left:400,top:0,height:400,width:300,paddingLeft:0}}),b.map((function(e,t){return i.a.createElement(p,{pos:e,key:t})})),i.a.createElement("div",{style:{position:"absolute",width:400,background:"white",zIndex:2,margin:0,fontSize:30}},i.a.createElement("div",{style:{transition:"all 0.1s linear",height:30,color:"grey",fontSize:20}},A),i.a.createElement("div",{style:{transition:"all 0.1s linear",height:250}},"Session Best: ",R)))};n(10);var b=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.4707600a.chunk.js.map